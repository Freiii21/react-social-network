(this["webpackJsonpreact-social-network"]=this["webpackJsonpreact-social-network"]||[]).push([[3],{303:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__1WSDg",dialogsItems:"Dialogs_dialogsItems__3bjv9",line:"Dialogs_line__2SYE5",messagesField:"Dialogs_messagesField__1NgB3",messages:"Dialogs_messages__3apIQ",message:"Dialogs_message__3UW0z",me:"Dialogs_me__1zjPe",you:"Dialogs_you__2DuOo",answerField:"Dialogs_answerField__1hM6v",inputField:"Dialogs_inputField__3wGxi",sendMessage:"Dialogs_sendMessage__3OVHo",companion:"Dialogs_companion__3f3cO"}},304:function(e,a,s){e.exports={dialog:"DialogItem_dialog__2EsNO",avatar:"DialogItem_avatar__2dWX9",name:"DialogItem_name__1aT2G",active:"DialogItem_active__1XuwC"}},306:function(e,a,s){"use strict";s.r(a);var i=s(136),t=s(1),n=s(303),c=s.n(n),o=s(0),l=function(e){return Object(o.jsx)("div",{className:c.a.message,children:Object(o.jsxs)("div",{className:c.a[e.owner],children:["me"!==e.owner&&Object(o.jsx)("img",{src:e.friendAvatar,alt:"ava"}),e.message,"me"===e.owner&&Object(o.jsx)("img",{src:e.myAvatar,alt:"ava"})]})})},r=s(304),d=s.n(r),g=function(e){var a=e.activeInterlocutor!==e.id?d.a.dialog:"".concat(d.a.dialog," ").concat(d.a.active);return Object(o.jsxs)("div",{className:a,children:[Object(o.jsx)("img",{src:e.avatar,alt:"",onClick:function(){e.changeActiveCompanion(e.id)},className:d.a.avatar}),Object(o.jsx)("div",{className:d.a.name,children:e.name})]})},m=s(134),j=s(135),u=s(74),v=s(100),_=Object(v.a)(50),b=Object(j.a)({form:"dialogAddMessageForm"})((function(e){return Object(o.jsx)("form",{onSubmit:e.handleSubmit,children:Object(o.jsxs)("div",{className:c.a.answerField,children:[Object(o.jsx)(m.a,{component:u.b,name:"newMessageBody",placeholder:"Type a message...",className:c.a.inputField,validate:[v.b,_]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{className:c.a.sendMessage,children:"Send"})})]})})})),O=s(10),h=s(11),f=s(71),x=s(23);a.default=Object(h.d)(Object(O.b)((function(e){return{dialogsPage:e.dialogsPage,authorizedUserId:e.auth.userId}}),(function(e){return{sendMessage:function(a,s){e(Object(i.c)(a,s))},getUserProfile:function(a){e(Object(x.e)(a))},changeActiveCompanion:function(a){e(Object(i.a)(a))}}})),f.a)((function(e){Object(t.useEffect)((function(){e.authorizedUserId&&e.getUserProfile(e.authorizedUserId)}),[]);var a=e.dialogsPage.dialogs.map((function(a){return Object(o.jsx)(g,{name:a.name,id:a.id,avatar:a.avatar,changeActiveCompanion:e.changeActiveCompanion,activeInterlocutor:e.dialogsPage.activeInterlocutor},a.id)})),s=e.dialogsPage.messages[e.dialogsPage.activeInterlocutor].map((function(a){return Object(o.jsx)(l,{message:a.message,owner:a.owner,myAvatar:e.dialogsPage.myAvatar,friendAvatar:a.avatar},a.id)}));return Object(o.jsxs)("div",{className:c.a.dialogs,children:[Object(o.jsxs)("div",{className:c.a.dialogsItems,children:[Object(o.jsx)("div",{children:a}),Object(o.jsx)("div",{className:c.a.line})]}),Object(o.jsxs)("div",{className:c.a.messagesField,children:[Object(o.jsxs)("div",{className:c.a.messages,children:[Object(o.jsxs)("div",{className:c.a.companion,children:[Object(o.jsx)("img",{src:e.dialogsPage.dialogs[e.dialogsPage.activeInterlocutor].avatar,alt:""}),Object(o.jsx)("div",{children:e.dialogsPage.dialogs[e.dialogsPage.activeInterlocutor].name})]}),s]}),Object(o.jsx)(b,{onSubmit:function(a){e.sendMessage(a.newMessageBody,e.dialogsPage.activeInterlocutor)}})]})]})}))}}]);
//# sourceMappingURL=3.24ec0b0f.chunk.js.map