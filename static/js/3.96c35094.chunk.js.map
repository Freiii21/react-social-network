{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.tsx","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["module","exports","Message","props","className","s","message","owner","src","friendAvatar","alt","myAvatar","DialogItem","path","id","dialog","avatar","to","isActive","activeLink","name","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","answerField","Field","component","Textarea","placeholder","inputField","validate","required","sendMessage","compose","connect","state","dialogsPage","dispatch","newMessageBody","userId","sendMessageActionCreator","withAuthRedirect","usersList","dialogs","map","d","messagesElements","messages","activeInterlocutor","m","dialogsItems","line","messagesField","companion","values"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,KAAO,sBAAsB,OAAS,wBAAwB,WAAa,4BAA4B,cAAgB,+BAA+B,SAAW,0BAA0B,QAAU,yBAAyB,GAAK,oBAAoB,IAAM,qBAAqB,YAAc,6BAA6B,WAAa,4BAA4B,YAAc,6BAA6B,UAAY,6B,qFCSlfC,EAAU,SAACC,GACpB,OACI,qBAAKC,UAAWC,IAAEC,QAAlB,SACI,sBAAKF,UAAWC,IAAEF,EAAMI,OAAxB,UACqB,OAAhBJ,EAAMI,OAAiB,qBAAKC,IAAKL,EAAMM,aAAcC,IAAI,QACzDP,EAAMG,QACU,OAAhBH,EAAMI,OAAiB,qBAAKC,IAAKL,EAAMQ,SAAUD,IAAI,c,QCNzDE,EAAa,SAACT,GACvB,IAAIU,EAAO,YAAcV,EAAMW,GAE/B,OACI,sBAAKV,UAAWC,IAAEU,OAAlB,UACI,qBAAKP,IAAKL,EAAMa,OAAQN,IAAI,KAC5B,cAAC,IAAD,CAASO,GAAIJ,EAAMT,UAAW,qBAAEc,SAA0Bb,IAAEc,WAAa,IAAzE,SACKhB,EAAMiB,W,kCCJjBC,EAAcC,YAAiB,IAoE/BC,EAAsBC,YAA+B,CAACC,KAAM,wBAAtCD,EArBL,SAACrB,GACpB,OACI,sBAAMuB,SAAUvB,EAAMwB,aAAtB,SACI,sBAAKvB,UAAWC,IAAEuB,YAAlB,UAEQ,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXX,KAAK,iBACLY,YAAY,oBACZ5B,UAAWC,IAAE4B,WACbC,SAAU,CAACC,IAAUd,KAGhC,8BACI,wBAAQjB,UAAWC,IAAE+B,YAArB,4B,wBCzCLC,sBACXC,aAdoB,SAACC,GACrB,MAAO,CACHC,YAAaD,EAAMC,gBAGA,SAACC,GACxB,MAAO,CACHL,YAAa,SAACM,EAAwBC,GAClCF,EAASG,YAAyBF,EAAgBC,SAO1DE,IAFWR,EDjBQ,SAAClC,GACpB,IAAM2C,EAAY3C,EAAMqC,YAAYO,QAAQC,KAAI,SAAAC,GAAC,OAC7C,cAAC,EAAD,CAAY7B,KAAM6B,EAAE7B,KAERN,GAAImC,EAAEnC,GACNE,OAAQiC,EAAEjC,QAFLiC,EAAEnC,OAKjBoC,EAAmB/C,EAAMqC,YAAYW,SAAShD,EAAMqC,YAAYY,oBAAoBJ,KAAI,SAAAK,GAAC,OAC3F,cAAC,EAAD,CACI/C,QAAS+C,EAAE/C,QAEXC,MAAO8C,EAAE9C,MACTI,SAAUR,EAAMqC,YAAY7B,SAC5BF,aAAc4C,EAAErC,QAHXqC,EAAEvC,OAUf,OACI,sBAAKV,UAAWC,IAAE0C,QAAlB,UACI,sBAAK3C,UAAWC,IAAEiD,aAAlB,UACI,8BACKR,IAEL,qBAAK1C,UAAWC,IAAEkD,UAEtB,sBAAKnD,UAAWC,IAAEmD,cAAlB,UACI,sBAAKpD,UAAWC,IAAE8C,SAAlB,UACI,sBAAK/C,UAAWC,IAAEoD,UAAlB,UACI,qBAAKjD,IAAKL,EAAMqC,YAAYO,QAAQ5C,EAAMqC,YAAYY,oBAAoBpC,OAAQN,IAAI,KACtF,8BAAMP,EAAMqC,YAAYO,QAAQ5C,EAAMqC,YAAYY,oBAAoBhC,UAEzE8B,KAEL,cAAC3B,EAAD,CAAqBG,SApBX,SAACgC,GACnBvD,EAAMiC,YAAYsB,EAAOhB,eAAgBvC,EAAMqC,YAAYY","file":"static/js/3.96c35094.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1WSDg\",\"dialogsItems\":\"Dialogs_dialogsItems__3bjv9\",\"line\":\"Dialogs_line__2SYE5\",\"dialog\":\"Dialogs_dialog__331nV\",\"activeLink\":\"Dialogs_activeLink__162lv\",\"messagesField\":\"Dialogs_messagesField__1NgB3\",\"messages\":\"Dialogs_messages__3apIQ\",\"message\":\"Dialogs_message__3UW0z\",\"me\":\"Dialogs_me__1zjPe\",\"you\":\"Dialogs_you__2DuOo\",\"answerField\":\"Dialogs_answerField__1hM6v\",\"inputField\":\"Dialogs_inputField__3wGxi\",\"sendMessage\":\"Dialogs_sendMessage__3OVHo\",\"companion\":\"Dialogs_companion__3f3cO\"};","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\ntype MessagePropsType = {\r\n    message: string\r\n    owner: string\r\n    myAvatar: string\r\n    friendAvatar: string\r\n}\r\n\r\nexport const Message = (props: MessagePropsType) => {\r\n    return (\r\n        <div className={s.message}>\r\n            <div className={s[props.owner]}>\r\n                {props.owner !== \"me\" ? <img src={props.friendAvatar} alt='ava'/> : false}\r\n                {props.message}\r\n                {props.owner === \"me\" ? <img src={props.myAvatar} alt='ava'/> : false}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport s from './../Dialogs.module.css';\r\n\r\ntype DialogItemPropsType = {\r\n    id: number\r\n    name: string\r\n    avatar: string\r\n}\r\n\r\nexport const DialogItem = (props: DialogItemPropsType) => {\r\n    let path = '/dialogs/' + props.id;\r\n\r\n    return (\r\n        <div className={s.dialog}>\r\n            <img src={props.avatar} alt=\"\"/>\r\n            <NavLink to={path} className={({isActive}) => (isActive ? s.activeLink : '')}>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport {Message} from './Message/Message'\r\nimport {DialogItem} from './DialogItem/DialogItem';\r\nimport {DialogsPropsType} from './DialogsContainer';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../common/FormsControls/FormsControls';\r\nimport {maxLengthCreator, required} from '../../utils/validators/validators';\r\n\r\nexport type DialogsFormDataType = {\r\n    newMessageBody: string\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n    const usersList = props.dialogsPage.dialogs.map(d =>\r\n        <DialogItem name={d.name}\r\n                    key={d.id}\r\n                    id={d.id}\r\n                    avatar={d.avatar}\r\n        />);\r\n\r\n    const messagesElements = props.dialogsPage.messages[props.dialogsPage.activeInterlocutor].map(m =>\r\n        <Message\r\n            message={m.message}\r\n            key={m.id}\r\n            owner={m.owner}\r\n            myAvatar={props.dialogsPage.myAvatar}\r\n            friendAvatar={m.avatar}\r\n        />);\r\n\r\n    const addNewMessage = (values: DialogsFormDataType) => {\r\n        props.sendMessage(values.newMessageBody, props.dialogsPage.activeInterlocutor);\r\n    }\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                <div>\r\n                    {usersList}\r\n                </div>\r\n                <div className={s.line}/>\r\n            </div>\r\n            <div className={s.messagesField}>\r\n                <div className={s.messages}>\r\n                    <div className={s.companion}>\r\n                        <img src={props.dialogsPage.dialogs[props.dialogsPage.activeInterlocutor].avatar} alt=\"\"/>\r\n                        <div>{props.dialogsPage.dialogs[props.dialogsPage.activeInterlocutor].name}</div>\r\n                    </div>\r\n                    {messagesElements}\r\n                </div>\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst AddMessageForm = (props: InjectedFormProps<DialogsFormDataType>) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.answerField}>\r\n\r\n                    <Field component={Textarea}\r\n                           name=\"newMessageBody\"\r\n                           placeholder=\"Type a message...\"\r\n                           className={s.inputField}\r\n                           validate={[required, maxLength50]}\r\n                    />\r\n\r\n                <div>\r\n                    <button className={s.sendMessage}>Send</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\n\r\nconst AddMessageFormRedux = reduxForm<DialogsFormDataType>({form: \"dialogAddMessageForm\"})(AddMessageForm);","import React from 'react';\r\nimport {\r\n    InitialStateDialogsPageType,\r\n    sendMessageActionCreator\r\n} from '../../redux/dialogs-reducer';\r\nimport {Dialogs} from './Dialogs';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {compose, Dispatch } from 'redux';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\n\r\ntype MapStateToPropsType = {\r\n    dialogsPage: InitialStateDialogsPageType\r\n}\r\ntype MapDispatchToPropsType = {\r\n    sendMessage: (newMessageBody: string, userId: number) => void\r\n}\r\nexport type DialogsPropsType = MapStateToPropsType & MapDispatchToPropsType;\r\n\r\nconst mapStateToProps = (state:AppStateType):MapStateToPropsType => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch: Dispatch):MapDispatchToPropsType => {\r\n    return {\r\n        sendMessage: (newMessageBody: string, userId: number) => {\r\n            dispatch(sendMessageActionCreator(newMessageBody, userId))\r\n        }\r\n    }\r\n};\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n/*\r\nlet AuthRedirectComponent = withAuthRedirect(Dialogs);\r\nexport const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);*/\r\n"],"sourceRoot":""}